/**
 *  name: @jswork/gm-assistant
 *  description: Tampermonkey assistant.
 *  homepage: https://github.com/afeiship/gm-assistant
 *  version: 1.0.10
 *  date: 2021-01-05T05:33:56.651Z
 *  license: MIT
 */

!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){$(document).ready(()=>{if(!document.URL.includes("github.com/afeiship?tab=repositories"))return;const t=$("#user-repositories-list");t.find('li a[itemprop="name codeRepository"]').each((t,n)=>{const e=$(n).text().trim(),o=$(n).parent(),i=o.text().includes("Private"),a=`git clone git@github.com:afeiship/${e}.git`,d=$(`<button data-gm-npm="${`npm i -S @${i?"afeiship":"jswork"}/${e}`}" class="mr-1 gm-btn gm-btn-negative">npm</button>`),s=$(`<button data-gm-gclone="${a}" class="gm-btn gm-btn-default">github</button>`);o.append(d),o.append(s)}),t.find("[data-gm-npm]").click(t=>{const n=$(t.target).data("gm-npm");gmsdk.setClipboard(n)}),t.find("[data-gm-gclone]").click(t=>{const n=$(t.target).data("gm-gclone");gmsdk.setClipboard(n)})}),$(document).ready(()=>{if(!$("#readme").length)return;const t=$('#js-repo-pjax-container [data-pjax="#js-repo-pjax-container"]').eq(0).text(),n=t=>`<div class="mb-2 input-group">\n      <input class="form-control input-monospace input-sm bg-gray-light" value="${t}" aria-label="${t}" disabled>\n      <div class="input-group-button">\n        <clipboard-copy value="${t}" aria-label="Copy to clipboard" class="btn btn-sm" tabindex="0" role="button"><svg class="octicon octicon-clippy" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"></path></svg></clipboard-copy>\n      </div>\n    </div>`,e=n($('tab-container [role="tabpanel"]').eq(1).find("input").val()),o=n(t);$("#readme .Box-body .markdown-body h1").after(`<div class="d-flex">\n      <div class="pr-1 flex-1">${e}</div>\n      <div class="flex-1">${o}</div>\n    </div>`)}),$(document).ready(()=>{const t=location.hostname;GM_addStyle("\n    .seo-toolkit{\n      z-index: 1000;\n      position:fixed;\n      right: 10px;\n      top: 200px;\n      width: 80px;\n      text-align: center;\n    }\n    .seo-toolkit button{\n      margin-bottom:10px;\n    }\n  "),$("body").prepend('\n    <div class="seo-toolkit">\n      <button id="btn-seo1" class="gm-btn gm-btn-primary">主域名</button>\n      <button id="btn-seo2" class="gm-btn gm-btn-positive">子域名</button>\n      <button id="btn-close" class="gm-btn gm-btn-negative">关掉我</button>\n    </div>\n  '),$("#btn-seo1").click(()=>{window.open("http://seo.chinaz.com/"+nx.domain())}),$("#btn-seo2").click(()=>{window.open("http://seo.chinaz.com/"+t)}),$("#btn-close").click(()=>{$(".gm-btn").remove()})}),$(document).ready(()=>{var t=$(".weui-msg"),n=t.find(".weui-msg__desc").text().trim(),e=t.find(".weui-msg__title").text().includes("已停止访问该网页")?"disabled":"primary";t.after(`<button id="goto" ${e} class="weui-btn weui-btn_${e}" style="cursor: pointer;">一键前往</button>`),$("#goto").click(()=>{location.href=n})});$(document).ready(()=>{const t=$("body"),n=document.documentElement;gmsdk.addStyle("\n    .tmb-toolkit{\n      z-index: 1001;\n      position:fixed;\n      right: 10px;\n      top: 300px;\n      width: 120px;\n      text-align: center;\n    }\n  "),t.prepend('\n    <section class="tmb-toolkit">\n      <div class="gm-btn-group">\n        <button data-gm-action="top" class="gm-btn gm-btn-default">⬆️</button>\n        <button data-gm-action="middle" class="gm-btn gm-btn-default">😂</button>\n        <button data-gm-action="bottom" class="gm-btn gm-btn-default">⬇️</button>\n      </div>\n    </section>\n  '),t.find("[data-gm-action]").mouseenter(t=>{let e=$(t.target).data("gm-action");"middle"===e&&(e=(()=>{const t=document.body,n=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)/2-window.innerHeight/2})()),nx.scrollTo({el:n,to:e})})})}));
